<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Cadastro de Produto</title>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            fetch('cadastro_produto.php?action=fetch_options')
                .then(response => response.json())
                .then(data => {
                    const tiposSelect = document.getElementById('tipo');
                    const subtiposSelect = document.getElementById('subtipo');
        
                    data.tipos.forEach(tipo => {
                        let option = document.createElement('option');
                        option.value = tipo.id;
                        option.textContent = tipo.nome;
                        tiposSelect.appendChild(option);
                    });
        
                    data.subtipos.forEach(subtipo => {
                        let option = document.createElement('option');
                        option.value = subtipo.id;
                        option.textContent = subtipo.nome;
                        subtiposSelect.appendChild(option);
                    });
                })
                .catch(error => console.error('Erro ao buscar tipos e subtipos:', error));
        });
        </script>
</head>
<body>
    <h1>Cadastro de Produto</h1>
    <form action="cadastro_produto.php" method="post" enctype="multipart/form-data">
        <div>
            <label for="nome">Nome do Produto:</label>
            <input type="text" id="nome" name="nome" required>
        </div>
        <div>
            <label for="descricao">Descrição:</label>
            <textarea id="descricao" name="descricao" required></textarea>
        </div>
        <div>
            <label for="preco">Preço:</label>
            <input type="number" id="preco" name="preco" step="0.01" required>
        </div>
        <div>
            <label for="tipo">Tipo:</label>
            <select id="tipo" name="tipo" required>
               
            </select>
        </div>
        <div>
            <label for="subtipo">Subtipo:</label>
            <select id="subtipo" name="subtipo" required>
               
            </select>
        </div>
        <div>
            <label for="imagem">Imagem do Produto:</label>
            <input type="file" id="imagem" name="imagem" required>
        </div>
        <button type="submit">Cadastrar Produto</button>
    </form>
</body>
</html>
