<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Cadastro de Produto</title>
    <!-- Inclua o CSS do Bootstrap -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <script>
        
        document.addEventListener('DOMContentLoaded', function() {
            fetch('cadastro_produto.php?action=fetch_options')
                .then(response => response.json())
                .then(data => {
                    const tiposSelect = document.getElementById('tipo');
                    const subtiposSelect = document.getElementById('subtipo');
        
                    data.tipos.forEach(tipo => {
                        let option = document.createElement('option');
                        option.value = tipo.id;
                        option.textContent = tipo.nome;
                        tiposSelect.appendChild(option);
                    });
        
                    data.subtipos.forEach(subtipo => {
                        let option = document.createElement('option');
                        option.value = subtipo.id;
                        option.textContent = subtipo.nome;
                        subtiposSelect.appendChild(option);
                    });
                })
                .catch(error => console.error('Erro ao buscar tipos e subtipos:', error));
        });
        
    </script>
</head>
<body>
    <div class="container">
        <h1 class="my-4">Cadastro de Produto</h1>
        <form action="cadastro_produto.php" method="post" enctype="multipart/form-data">
            <div class="form-group">
                <label for="nome">Nome do Produto:</label>
                <input type="text" class="form-control" id="nome" name="nome" required>
            </div>
            <div class="form-group">
                <label for="descricao">Descrição:</label>
                <textarea class="form-control" id="descricao" name="descricao" required></textarea>
            </div>
            <div class="form-group">
                <label for="preco">Preço:</label>
                <input type="number" class="form-control" id="preco" name="preco" step="0.01" required>
            </div>
            <div class="form-group">
                <label for="tipo">Tipo:</label>
                <select class="form-control" id="tipo" name="tipo" required>
                    
                </select>
            </div>
            <div class="form-group">
                <label for="subtipo">Subtipo:</label>
                <select class="form-control" id="subtipo" name="subtipo" required>
                    
                </select>
            </div>
            <div class="form-group">
                <label for="imagem">Imagem do Produto:</label>
                <input type="file" class="form-control-file" id="imagem" name="imagem" required>
            </div>
            <button type="submit" class="btn btn-primary">Cadastrar Produto</button>
        </form>
    </div>
</body>
</html>
